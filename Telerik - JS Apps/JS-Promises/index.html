<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Q Library</title>
</head>

<body>

    <button id="btn">click me</button>

    <script type="text/javascript" src="q.js"></script>
    <script type="text/javascript">
    var serverInfo = new Date();

    function operation() {
        var deferred = Q.defer();
        setTimeout(function() {
            var serverData = 'nekva data';
            var error = 'Missing data';
            if (serverData) {
                deferred.resolve(serverData);
            } else {
                deferred.reject(error);
            }
        }, 3000);


        return deferred.promise;
    }

    function success(value) {
        console.log(value);
    }

    function error(reason) {
        throw reason;
    }
    document.getElementById('btn').addEventListener('click', function() {
        operation().then(success, error);
    })
    </script>
</body>

</html>
